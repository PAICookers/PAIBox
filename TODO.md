## TODO

- [x] 帧导出与优化
- [x] 神经元目的地突触寻找对齐地址算法（待验证）
  - 聚焦 `aligned_coords` 前后所涉及的寻找神经元的目的地突触地址算法
- [x] 多精度权重支持（待验证）
  - 聚集 `CorePlcement` 内 `_fold_raw_weights` 前后所涉及的权重拆分算法，需要经过充分验证
- [x] 运行时交换文件格式约定与导出
- [x] `tick_wait_start` 与 `tick_wait_end` 前/后端支持
- [x] 网络节点间自定义延迟( `tick_relative` )前后端支持
- [x] 神经元密集分配策略（待验证）

- 功能模块支持

  - [x] 全展开1D卷积
  - [x] 全展开2D卷积
  - [x] 位操作逻辑运算：与、或、非、异或
  - [x] 2D矩阵转置
  - [x] 3D矩阵转置
  - [x] 脉冲加、减运算
  - [x] 延迟链
  - [ ] 1D最大池化
  - [x] 2D最大池化
  - [ ] 1D平均池化
  - [x] 2D平均池化
  - [ ] 全展开1D转置卷积
  - [ ] 全展开2D转置卷积
  - [ ] 半折叠2D卷积

- 多层次结构网络组件的发现、数据流验证与后端解析

  - [x] 对有层次结构（子网络例化复用等情形）的网络模型，实现在所有层次上网络组件的发现、数据流与后端解析实现
  - [x] 局部连接包装成单个算子，实现在所有层次上网络组件的发现、数据流与后端解析实现（待验证）

- 带有约束的路由坐标分配

  - [ ] 支持芯片阵列部署
  - [ ] 支持指定部分网络部署至特定路由区域

- [ ] 非二次幂的路由广播优化策略

- 神经元分配策略（资源优先、延迟/吞吐率优先、资源+延时/吞吐率兼顾）的后端支持

  - [x] 资源优先：直接对该节点所有神经元进行密集分配，使用最少的物理核资源
  - [x] 延时/吞吐率优先（负载均衡）：由于节点的计算时间取决于该节点神经元全部计算完成的耗时，因此该节点神经元被分配至多个物理核上时，采取负载均衡策略，可提高节点吞吐率，优化计算延时
  - [x] 资源+延时/吞吐率兼顾：在资源优先的基础上，可**叠加使用密集分配策略**，对未分配满的物理核尝试分配同一节点的其他神经元段。相较于单纯使用资源优先策略，使用更少的物理核
  - [ ] 自适应策略：根据网络结构，对各层 `unrolling factor` 做全局最优化设置，且预留接口以手动约束某些节点

- [ ] 混合精度权重部署优化：对于网络中存在不同精度的突触情况，需要在后端实现对不同精度突触分组的处理。预期提供一个编译选项：

  - [x] 当开启时，当不同精度突触被分在同一组时，将按照**最大精度**处理；当分在不同组时，按各自精度处理
  - [ ] 当关闭时，不同精度突触将**不被分在同一组**（即对初次分配的CB进行分割，分割后得到的多个CB仍处于同一RG内）

- [ ] ANN模式前后端支持

  - 目前仅支持芯片的SNN模式。要想支持ANN模式，前端上需要支持ANN模式的算理。同时，ANN/SNN模式是物理核的行为，因此当网络拓扑中同时存在两种模式的神经元时，需要以此为约束条件，从而影响分组结果（类似第6点。例如，同为ANN模式下的不同神经元可被分在同一组）

- [ ] 神经元计算模型随机性仿真

  - 基于硬件神经元计算机制，实现带有部分随机数的计算机制。并考虑与硬件的实现相接近的程度（能否接近实现与硬件一致的随机数发生行为）
